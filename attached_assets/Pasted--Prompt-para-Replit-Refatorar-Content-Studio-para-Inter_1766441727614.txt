# Prompt para Replit: Refatorar Content Studio para Interface de Chat

## Contexto do Projeto

Estou desenvolvendo um SaaS de criaÃ§Ã£o de conteÃºdo viral para LinkedIn chamado **Viral Content**. O produto usa um workflow guiado de 7 etapas para criar posts otimizados com score â‰¥9/10.

A interface atual do **Content Studio** (tela de criaÃ§Ã£o de posts) estÃ¡ funcionando como um wizard tradicional com cards de seleÃ§Ã£o. Preciso refatorar para uma **experiÃªncia de chat fluida** similar ao Claude.ai ou ChatGPT.

---

## O Que Precisa Mudar

### Problema Atual
A interface atual tem:
- Steps fixos no topo como stepper visual
- Cards de seleÃ§Ã£o ocupando a Ã¡rea central
- Estrutura de formulÃ¡rio/wizard tradicional
- NÃ£o tem input de chat fixo na parte inferior

### Nova Estrutura Desejada
A interface deve funcionar como um **chat de LLM**, onde:
- Toda interaÃ§Ã£o acontece como mensagens em um fluxo contÃ­nuo
- O usuÃ¡rio digita/seleciona e o sistema responde
- O contexto se acumula naturalmente na conversa

---

## EspecificaÃ§Ã£o Detalhada da Nova Interface

### Layout Geral

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Menu Lateral]  â”‚      [Ãrea de Chat]         â”‚ [Preview LinkedIn]â”‚
â”‚    (existente)  â”‚                             â”‚      (fixo)       â”‚
â”‚                 â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                   â”‚
â”‚                 â”‚  â”‚                       â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                 â”‚  â”‚   Mensagens rolam     â”‚  â”‚  â”‚   Preview   â”‚  â”‚
â”‚                 â”‚  â”‚   para cima           â”‚  â”‚  â”‚   do Post   â”‚  â”‚
â”‚                 â”‚  â”‚                       â”‚  â”‚  â”‚             â”‚  â”‚
â”‚                 â”‚  â”‚                       â”‚  â”‚  â”‚  Atualiza   â”‚  â”‚
â”‚                 â”‚  â”‚                       â”‚  â”‚  â”‚  em tempo   â”‚  â”‚
â”‚                 â”‚  â”‚                       â”‚  â”‚  â”‚    real     â”‚  â”‚
â”‚                 â”‚  â”‚                       â”‚  â”‚  â”‚             â”‚  â”‚
â”‚                 â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                 â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                   â”‚
â”‚                 â”‚  â”‚ [Input fixo] â”€â”€â”€â”€â–º [â–¶]â”‚  â”‚                   â”‚
â”‚                 â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Componentes Principais

#### 1. Ãrea de Mensagens (Centro)

**Comportamento:**
- Ocupa o centro da tela, entre o menu lateral esquerdo e o preview direito
- Scroll vertical - novas mensagens empurram conteÃºdo para cima
- Auto-scroll para Ãºltima mensagem quando nova mensagem aparece
- NÃ£o tem header fixo nem footer fixo nesta Ã¡rea
- Padding adequado nas laterais e entre mensagens

**Tipos de Mensagens:**

```jsx
// Mensagem do Sistema (alinhada Ã  esquerda)
<SystemMessage>
  <Avatar>ğŸ¤–</Avatar>
  <Content>
    <Text>Vamos criar um post matador! Qual o tema?</Text>
  </Content>
</SystemMessage>

// Mensagem do UsuÃ¡rio (alinhada Ã  direita)
<UserMessage>
  <Content>
    <Text>Quero falar sobre produtividade com IA</Text>
  </Content>
</UserMessage>

// Mensagem com OpÃ§Ãµes SelecionÃ¡veis
<SystemMessage>
  <Avatar>ğŸ¤–</Avatar>
  <Content>
    <Text>Escolha o tipo de post:</Text>
    <OptionsGrid>
      <OptionCard onClick={handleSelect} selected={false}>
        <Icon>ğŸ“š</Icon>
        <Title>Compartilhar uma liÃ§Ã£o de carreira</Title>
        <Description>Conte uma liÃ§Ã£o importante...</Description>
      </OptionCard>
      <OptionCard onClick={handleSelect} selected={false}>
        <Icon>ğŸ†</Icon>
        <Title>Anunciar uma conquista</Title>
        <Description>Compartilhe uma vitÃ³ria...</Description>
      </OptionCard>
      {/* mais opÃ§Ãµes */}
    </OptionsGrid>
  </Content>
</SystemMessage>

// Mensagem com Post Gerado
<SystemMessage>
  <Avatar>ğŸ¤–</Avatar>
  <Content>
    <Text>Aqui estÃ¡ o corpo do seu post:</Text>
    <PostPreview>
      <PostContent>{generatedPost}</PostContent>
    </PostPreview>
    <Actions>
      <Button variant="secondary">Regenerar</Button>
      <Button variant="primary">Aprovar e Continuar</Button>
    </Actions>
  </Content>
</SystemMessage>

// Mensagem de Score Final
<SystemMessage>
  <Avatar>ğŸ‰</Avatar>
  <Content>
    <ScoreCard>
      <Score>9.5/10</Score>
      <Analytics>
        <Stat>Top 1%: 35%</Stat>
        <Stat>Top 5%: 70%</Stat>
      </Analytics>
      <BestTime>
        <Day>Domingo</Day>
        <Time>05h-07h GMT</Time>
      </BestTime>
    </ScoreCard>
    <Actions>
      <Button>Copiar Post</Button>
      <Button>Salvar na Lista</Button>
      <Button variant="ghost">Editar Algo</Button>
    </Actions>
  </Content>
</SystemMessage>
```

#### 2. Steps do Processo (Dentro do Chat)

**IMPORTANTE:** Os steps NÃƒO sÃ£o fixos no topo. Eles aparecem como a primeira "mensagem" do chat e rolam junto com o conteÃºdo.

```jsx
// Componente de Steps - aparece no topo do chat, rola junto
<StepsIndicator>
  <Step active={currentStep === 1} completed={currentStep > 1}>
    <StepNumber>1</StepNumber>
    <StepLabel>Briefing</StepLabel>
  </Step>
  <StepConnector completed={currentStep > 1} />
  <Step active={currentStep === 2} completed={currentStep > 2}>
    <StepNumber>2</StepNumber>
    <StepLabel>Structure</StepLabel>
  </Step>
  {/* ... steps 3-7 */}
</StepsIndicator>
```

**Comportamento dos Steps:**
- Aparecem no inÃ­cio do fluxo de mensagens
- Rolam para cima conforme conversa avanÃ§a
- Atualizam visualmente quando usuÃ¡rio avanÃ§a de etapa
- Step atual = destacado (azul/primary)
- Steps completados = checkmark verde
- Steps futuros = cinza/desabilitados

#### 3. Input de Chat (Fixo na Parte Inferior)

```jsx
<ChatInputContainer>
  <ChatInput
    placeholder="Digite sua resposta..."
    value={inputValue}
    onChange={handleInputChange}
    onKeyDown={handleKeyDown} // Enter para enviar
    multiline
    maxRows={4}
  />
  <SendButton 
    onClick={handleSend}
    disabled={!inputValue.trim()}
  >
    <SendIcon />
  </SendButton>
</ChatInputContainer>
```

**Comportamento:**
- Sempre visÃ­vel na parte inferior da Ã¡rea de chat
- Fixo - nÃ£o rola com as mensagens
- Cresce verticalmente conforme usuÃ¡rio digita (atÃ© maxRows)
- Enter envia, Shift+Enter quebra linha
- BotÃ£o de enviar desabilitado se input vazio

#### 4. Preview do LinkedIn (Fixo Ã  Direita)

```jsx
<LinkedInPreviewPanel>
  <PanelHeader>
    <LinkedInIcon />
    <Title>LinkedIn Preview</Title>
    <Subtitle>Follow your post as it's built</Subtitle>
  </PanelHeader>
  
  <StepsProgress>
    <ProgressItem active={currentStep >= 1}>1. Briefing</ProgressItem>
    <ProgressItem active={currentStep >= 2}>2. Structure</ProgressItem>
    <ProgressItem active={currentStep >= 3}>3. Content Type</ProgressItem>
    <ProgressItem active={currentStep >= 4}>4. Hook</ProgressItem>
    <ProgressItem active={currentStep >= 5}>5. Body</ProgressItem>
    <ProgressItem active={currentStep >= 6}>6. CTA</ProgressItem>
  </StepsProgress>
  
  <PreviewCard>
    <LinkedInPostMockup>
      {/* Mostra o post conforme vai sendo construÃ­do */}
      {hook && <Hook>{hook}</Hook>}
      {body && <Body>{body}</Body>}
      {cta && <CTA>{cta}</CTA>}
      {!hook && !body && !cta && (
        <Placeholder>
          Your post will appear here as you progress through the workflow
        </Placeholder>
      )}
    </LinkedInPostMockup>
  </PreviewCard>
</LinkedInPreviewPanel>
```

**Comportamento:**
- Fixo Ã  direita da tela
- NÃƒO rola - sempre visÃ­vel
- Atualiza em tempo real conforme usuÃ¡rio avanÃ§a
- Mostra preview visual do post formatado como LinkedIn
- Largura fixa (300-350px)

#### 5. Menu Lateral Esquerdo

**MANTER EXATAMENTE COMO ESTÃ.**

O menu lateral existente com:
- Viral Content (logo)
- Your Posts
- Create Post (selecionado)
- Profile Studio
- Settings

NÃ£o modificar este componente.

---

## Estados da Interface

### Estado Inicial (Ao Abrir)

```jsx
// Chat comeÃ§a com:
1. Steps indicator (1-7, step 1 ativo)
2. Mensagem de boas-vindas do sistema
3. Cards de seleÃ§Ã£o do tipo de post (8 opÃ§Ãµes)
4. Input fixo embaixo (vazio, aguardando)
5. Preview Ã  direita (placeholder)
```

### Durante InteraÃ§Ã£o

```jsx
// Conforme usuÃ¡rio avanÃ§a:
1. Steps rola para cima
2. Novas mensagens aparecem embaixo
3. Cards selecionados ficam destacados
4. Preview atualiza em tempo real
5. Input sempre visÃ­vel
```

### Loading State

```jsx
// Quando aguardando resposta do Claude:
<SystemMessage>
  <Avatar>ğŸ¤–</Avatar>
  <Content>
    <TypingIndicator>
      <Dot /><Dot /><Dot />
    </TypingIndicator>
  </Content>
</SystemMessage>
```

### FinalizaÃ§Ã£o (Score â‰¥9)

```jsx
// Mensagem final com score e aÃ§Ãµes
// Preview mostra post completo
// BotÃµes: Copiar, Salvar, Editar
```

---

## Fluxo de InteraÃ§Ã£o

### Exemplo de Conversa

```
[STEPS: 1â—â”€2â—‹â”€3â—‹â”€4â—‹â”€5â—‹â”€6â—‹â”€7â—‹]

ğŸ¤– Sistema:
"Hello! Let's create a viral LinkedIn post. 
Choose the post type that best fits what you want to communicate:"

[CARDS DE SELEÃ‡ÃƒO - 8 OPÃ‡Ã•ES]
- Compartilhar uma liÃ§Ã£o de carreira
- Anunciar uma conquista profissional
- Contar uma histÃ³ria de fracasso/aprendizado
- Desmistificar algo do meu mercado
- Dar uma dica prÃ¡tica sobre minha Ã¡rea
- Dar minha opiniÃ£o sobre o mercado
- Mostrar bastidores do meu trabalho
- Escrever sobre outro tema

[USUÃRIO CLICA EM "Dar uma dica prÃ¡tica sobre minha Ã¡rea"]

ğŸ‘¤ UsuÃ¡rio:
"Dar uma dica prÃ¡tica sobre minha Ã¡rea"

ğŸ¤– Sistema:
"Great choice! Now, what's the specific topic you want to share?
Give me a brief about what you want to talk about."

[USUÃRIO DIGITA NO INPUT]

ğŸ‘¤ UsuÃ¡rio:
"Quero falar sobre como usar IA para automatizar tarefas de growth"

ğŸ¤– Sistema:
"Perfect! Based on your profile as a Head of Growth, here are 3 
structure options for your post:

ğŸ† RECOMMENDED: PAS (Problem-Agitation-Solution)
Best for: Educational content that solves a problem
[Ver exemplo]

Option 2: FAB (Features-Advantages-Benefits)
Best for: Detailing a method or tool
[Ver exemplo]

Option 3: HSO (Hook-Story-Offer)
Best for: Storytelling with a clear takeaway
[Ver exemplo]

Which structure would you prefer? (or ask to see more options)"

[... conversa continua ...]
```

---

## EspecificaÃ§Ãµes TÃ©cnicas

### Estrutura de Componentes

```
/components/content-studio/
â”œâ”€â”€ ContentStudio.tsx          # Container principal
â”œâ”€â”€ ChatArea/
â”‚   â”œâ”€â”€ ChatArea.tsx           # Ãrea de mensagens scrollÃ¡vel
â”‚   â”œâ”€â”€ Message.tsx            # Componente base de mensagem
â”‚   â”œâ”€â”€ SystemMessage.tsx      # Mensagem do sistema
â”‚   â”œâ”€â”€ UserMessage.tsx        # Mensagem do usuÃ¡rio
â”‚   â”œâ”€â”€ OptionsMessage.tsx     # Mensagem com cards selecionÃ¡veis
â”‚   â”œâ”€â”€ PostPreviewMessage.tsx # Mensagem com preview do post
â”‚   â”œâ”€â”€ ScoreMessage.tsx       # Mensagem final com score
â”‚   â””â”€â”€ TypingIndicator.tsx    # Indicador de "digitando"
â”œâ”€â”€ StepsIndicator/
â”‚   â”œâ”€â”€ StepsIndicator.tsx     # Steps no chat (rola junto)
â”‚   â””â”€â”€ Step.tsx               # Step individual
â”œâ”€â”€ ChatInput/
â”‚   â”œâ”€â”€ ChatInput.tsx          # Input fixo no bottom
â”‚   â””â”€â”€ SendButton.tsx         # BotÃ£o de enviar
â”œâ”€â”€ LinkedInPreview/
â”‚   â”œâ”€â”€ LinkedInPreview.tsx    # Painel fixo Ã  direita
â”‚   â”œâ”€â”€ PreviewCard.tsx        # Mockup visual do post
â”‚   â””â”€â”€ StepsProgress.tsx      # Lista de etapas no preview
â””â”€â”€ OptionCards/
    â”œâ”€â”€ OptionCard.tsx         # Card de opÃ§Ã£o selecionÃ¡vel
    â””â”€â”€ OptionsGrid.tsx        # Grid de cards
```

### Estado do Chat

```typescript
interface ChatState {
  messages: Message[];
  currentStep: 1 | 2 | 3 | 4 | 5 | 6 | 7;
  isLoading: boolean;
  post: {
    type: string | null;
    briefing: string | null;
    structure: string | null;
    contentType: string | null;
    hook: string | null;
    body: string | null;
    cta: string | null;
    score: number | null;
    analytics: Analytics | null;
  };
}

interface Message {
  id: string;
  type: 'system' | 'user';
  content: string;
  component?: 'text' | 'options' | 'preview' | 'score';
  options?: OptionCard[];
  timestamp: Date;
}
```

### Estilos CSS/Tailwind

```css
/* Ãrea de Chat */
.chat-area {
  flex: 1;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  padding: 24px;
  gap: 16px;
}

/* Input Container - Fixo no bottom */
.chat-input-container {
  position: sticky;
  bottom: 0;
  padding: 16px 24px;
  background: white;
  border-top: 1px solid #E5E7EB;
}

/* Preview Panel - Fixo Ã  direita */
.preview-panel {
  position: sticky;
  top: 0;
  height: 100vh;
  width: 350px;
  border-left: 1px solid #E5E7EB;
  overflow-y: auto;
}

/* Message Bubbles */
.system-message {
  align-self: flex-start;
  max-width: 80%;
}

.user-message {
  align-self: flex-end;
  max-width: 80%;
  background: #0A66C2;
  color: white;
  border-radius: 16px 16px 4px 16px;
}
```

---

## Comportamentos Importantes

### 1. Auto-scroll
- Quando nova mensagem aparece, scroll automÃ¡tico para ela
- Se usuÃ¡rio scrollou manualmente para cima, nÃ£o forÃ§ar scroll
- BotÃ£o "Scroll to bottom" se usuÃ¡rio estiver longe do fim

### 2. SeleÃ§Ã£o de OpÃ§Ãµes
- Clicar em um card = seleciona E envia como mensagem do usuÃ¡rio
- Card selecionado fica destacado (borda azul)
- Outros cards ficam semi-transparentes apÃ³s seleÃ§Ã£o

### 3. RegeneraÃ§Ã£o
- Em qualquer etapa (2-6), usuÃ¡rio pode pedir "regenerar"
- Sistema gera 3 novas opÃ§Ãµes
- Limite: 10 regeneraÃ§Ãµes por etapa (controlar no backend)

### 4. Preview em Tempo Real
- Hook aparece no preview assim que aprovado
- Body aparece quando aprovado
- CTA aparece quando aprovado
- Preview completo na etapa 7

### 5. Responsividade
- Desktop: Layout 3 colunas (menu | chat | preview)
- Tablet: Preview vira drawer/modal
- Mobile: Preview acessÃ­vel via botÃ£o toggle

---

## O Que NÃƒO Fazer

âŒ NÃ£o colocar header fixo na Ã¡rea de chat
âŒ NÃ£o colocar footer fixo (input nÃ£o Ã© footer, Ã© parte do chat)
âŒ NÃ£o fazer steps ficarem fixos no topo
âŒ NÃ£o modificar o menu lateral existente
âŒ NÃ£o usar estrutura de wizard/formulÃ¡rio tradicional
âŒ NÃ£o fazer o preview rolar junto com o chat

---

## Arquivos de ReferÃªncia

O projeto jÃ¡ tem a especificaÃ§Ã£o funcional completa em:
- `/mnt/project/linkedin-viral-saas-spec-v1_3.md`

Consulte as seÃ§Ãµes:
- SeÃ§Ã£o 2: Metodologia Core - Workflow de 7 Etapas
- SeÃ§Ã£o 5.5: Content Studio (especificaÃ§Ã£o original)
- SeÃ§Ã£o 10: ConsideraÃ§Ãµes de UX/UI

---

## Checklist de ImplementaÃ§Ã£o

- [ ] Refatorar ContentStudio para layout de chat
- [ ] Criar componentes de mensagem (System, User, Options, Preview, Score)
- [ ] Implementar StepsIndicator que rola com o chat
- [ ] Criar ChatInput fixo na parte inferior
- [ ] Ajustar LinkedInPreview para ficar fixo Ã  direita
- [ ] Implementar auto-scroll com detecÃ§Ã£o de scroll manual
- [ ] Conectar seleÃ§Ã£o de cards com envio de mensagem
- [ ] Implementar estados de loading (typing indicator)
- [ ] Testar responsividade (desktop, tablet, mobile)
- [ ] Manter menu lateral intacto

---

## Resultado Esperado

Uma interface que funciona exatamente como Claude.ai ou ChatGPT:
- Conversacional e fluida
- Sem sensaÃ§Ã£o de "formulÃ¡rio"
- Preview sempre visÃ­vel para acompanhar progresso
- Input sempre acessÃ­vel para interagir
- ExperiÃªncia natural de chat com o assistente de criaÃ§Ã£o